# 内在价值法（DCF）详解

## 一、定义与公式

### DCF = Discounted Cash Flow
### 中文名：现金流折现法

### 核心公式

```
公司价值 = Σ(未来自由现金流 ÷ (1 + 折现率)^t)

其中：
- Σ = 求和（t从1到n年）
- 自由现金流 = FCF
- 折现率 = WACC或必要收益率
- t = 年份
```

### 两阶段模型（最常用）

```
公司价值 = 明确期现值 + 永续期现值

明确期现值 = Σ(FCF₁...FCFₙ 折现)
永续期现值 = TV ÷ (1+r)ⁿ

其中：
TV（终值）= FCFₙ × (1+g) ÷ (r-g)
g = 永续增长率
r = 折现率
```

---

## 二、原理解释

### 核心思想

```
一家公司的价值
= 它未来能创造的所有现金流
= 折算成今天的价值

为什么折现？
- 今天的钱比明天的钱值钱
- 承担风险需要补偿
- 机会成本存在
```

### 什么是自由现金流（FCF）？

```
自由现金流 = 经营活动现金流 - 资本支出

简单理解：
- 公司赚到的现金
- 减去必须投入的钱
- 剩下可以分给股东的钱

公式：
FCF = 税后净营业利润 + 折旧摊销 - 资本支出 - 营运资本增加
```

### 什么是折现率（WACC）？

```
WACC = 加权平均资本成本

WACC = (E/V) × Re + (D/V) × Rd × (1-T)

其中：
E = 股权价值
D = 债务价值
V = E + D（公司总价值）
Re = 股权成本（用CAPM计算）
Rd = 债务成本
T = 税率

简化理解：
- 股东要求的回报率
- 加权债权成本
- 反映公司风险水平
```

---

## 三、DCF计算步骤

### 第一步：预测自由现金流

```
需要预测：
1. 营收增长率
2. 利润率
3. 税率
4. 折旧摊销
5. 资本支出
6. 营运资本变化

通常预测5-10年
```

### 第二步：确定折现率

```
方法1：WACC
- 计算复杂
- 考虑资本结构

方法2：必要收益率
- 简化处理
- 通常8-12%

银行/稳定公司：8-10%
成长股：10-12%
高风险：12-15%
```

### 第三步：计算明确期现值

```
年 | FCF(亿) | 折现因子 | 现值(亿)
---|---------|---------|----------
1  | 100     | 1/1.10  | 90.9
2  | 110     | 1/1.10² | 90.9
3  | 121     | 1/1.10³ | 90.9
4  | 133     | 1/1.10⁴ | 90.9
5  | 146     | 1/1.10⁵ | 90.9
合计 |         |         | 454.5
```

### 第四步：计算终值

```
终值公式：
TV = FCF₅ × (1+g) ÷ (r-g)

假设：
FCF₅ = 146亿
g = 3%（永续增长率）
r = 10%（折现率）

TV = 146 × (1+3%) ÷ (10%-3%)
   = 146 × 1.03 ÷ 0.07
   = 2146亿

终值现值 = 2146 ÷ (1.10)⁵ = 1333亿
```

### 第五步：计算股权价值

```
公司价值 = 明确期现值 + 终值现值
        = 455 + 1333
        = 1788亿

减：净债务 = 300亿
股权价值 = 1788 - 300 = 1488亿

每股价值 = 1488亿 ÷ 100亿股 = 14.88元
```

---

## 四、实战案例：简化版招商银行DCF

### 基础假设（2026年）

```
招商银行(600036)：

当前数据（2024年）：
- 净利润：约1500亿
- 净资产：约11000亿
- ROE：约13.5%
- 分红比例：约30%
```

### 简化DCF计算

**假设条件：**
```
1. ROE保持：13%
2. 分红比例：30%
3. 股东权益增长率：9%（ROE × 再投资率）
4. 折现率：10%（银行股）
5. 永续增长率：3%
```

**预测期（5年）：**

| 年份 | 净利润(亿) | 分红(亿) | 留存收益(亿) | 净资产(亿) | FCF(亿) | 折现(10%) |
|------|-----------|---------|-------------|-----------|---------|-----------|
| 2025 | 1635 | 490 | 1145 | 12145 | 1145 | 1041 |
| 2026 | 1782 | 535 | 1247 | 13392 | 1247 | 1031 |
| 2027 | 1942 | 583 | 1359 | 14751 | 1359 | 1021 |
| 2028 | 2117 | 635 | 1482 | 16233 | 1482 | 1012 |
| 2029 | 2308 | 692 | 1616 | 17849 | 1616 | 1003 |

```
明确期现值合计 = 1041 + 1031 + 1021 + 1012 + 1003 = 5108亿
```

**终值计算：**
```
第5年FCF = 1616亿
永续增长率 g = 3%
折现率 r = 10%

终值 TV = 1616 × (1+3%) ÷ (10%-3%)
      = 1616 × 1.03 ÷ 0.07
      = 23779亿

终值现值 = 23779 ÷ (1.10)⁵ = 14770亿
```

**公司价值：**
```
公司价值 = 明确期现值 + 终值现值
        = 5108 + 14770
        = 19878亿

当前市值 = 38.67 × 257亿 = 9938亿

安全边际 = (19878 - 9938) ÷ 19878 = 50%
```

**每股价值：**
```
每股价值 = 19878亿 ÷ 257亿股 = 77.3元

当前股价 = 38.67元

低估程度 = (77.3 - 38.67) ÷ 77.3 = 50%
```

### 结论

```
DCF内在价值：77.3元
当前股价：38.67元
安全边际：50%

→ 严重低估，买入 ✅
```

---

## 五、DCF法的优缺点

### 优点

| 优点 | 说明 |
|------|------|
| 理论最完善 | 基于现金流，最科学 |
| 直接估值 | 估算内在价值 |
| 考虑时间价值 | 折现体现金钱时间价值 |
| 灵活性强 | 可调整各种假设 |
| 避免市场情绪 | 不受短期波动影响 |
| 长期视角 | 关注长期现金流 |

### 缺点

| 缺点 | 说明 |
|------|------|
| 计算复杂 | 需要专业财务知识 |
| 假设敏感 | 小变化大影响 |
| 预测困难 | 长期预测不准 |
| 主观性强 | 假设因人而异 |
| 不适合亏损公司 | FCF为负无法计算 |
| 不适合周期股 | 现金流波动大 |

---

## 六、适用场景

### ✅ 最适合

| 类型 | 原因 |
|------|------|
| 现金流稳定 | 银行、消费、公用事业 |
| 成长确定性高 | 龙头公司 |
| 业务简单 | 容易预测 |
| 轻资产 | 资本支出少 |
| 分红稳定 | FCF可预测 |

### ❌ 不太适合

| 类型 | 原因 |
|------|------|
| 亏损公司 | FCF为负 |
| 周期股 | 现金流波动大 |
| 初创公司 | 无历史数据 |
| 扩张期 | 资本支出大 |
| 并购频繁 | 现金流不稳定 |

---

## 七、简化DCF方法

### 方法1：戈登增长模型

```
股价 = D₁ ÷ (r - g)

其中：
D₁ = 下一年股息
r = 必要收益率
g = 股息增长率

示例（招行）：
D₁ = 2.05元（预期2025年分红）
r = 10%
g = 5%（保守估计）

股价 = 2.05 ÷ (10% - 5%) = 41元

当前股价 = 38.67元
→ 低估约6%
```

### 方法2：PE-成长简化法

```
合理PE = 100 ÷ r

其中：
r = 必要收益率

示例：
r = 10%
合理PE = 100 ÷ 10 = 10倍

招行：
合理股价 = EPS × 10 = 5.95 × 10 = 59.5元

当前股价 = 38.67元
→ 低估约35%
```

### 方法3：资产价值法

```
股价 = 每股净资产 × PB合理值

示例：
招行每股净资产 = 42.8元
合理PB = 1.5（优质银行）

合理股价 = 42.8 × 1.5 = 64.2元

当前股价 = 38.67元
→ 低估约40%
```

---

## 八、DCF的敏感性分析

### 关键假设的影响

| 假设 | 变化 | 对估值影响 |
|------|------|-----------|
| 折现率 | +1% | 估值下降10-15% |
| 永续增长率 | +1% | 估值上升20-30% |
| 增长期 | +1年 | 估值上升5-10% |
| FCF预测 | +10% | 估值上升10% |

### 敏感性分析表（招行案例）

| 折现率 | 永续增长率 | 内在价值(元) | vs当前38.67元 |
|--------|-----------|--------------|---------------|
| 9% | 3% | 95.2 | +146% |
| 9% | 2% | 78.3 | +103% |
| 10% | 3% | 77.3 | +100% |
| 10% | 2% | 64.5 | +67% |
| 11% | 3% | 63.8 | +65% |
| 11% | 2% | 54.1 | +40% |

**结论：** 即使保守假设（折现率11%，增长率2%），内在价值仍有40%安全边际。

---

## 九、常见误区

### 误区1：DCF是精确计算

```
错误：DCF计算结果精确到分

正确：
- DCF是估算，不是精确计算
- 结果是区间，不是单点
- 重点是逻辑，不是数字

建议：
- 给出估值区间
- 保留安全边际
- 持续修正
```

### 误区2：预测越长期越好

```
错误：预测10-20年更准确

正确：
- 长期预测几乎不可能
- 3-5年已经很难
- 重点在终值假设

建议：
- 明确期3-5年
- 保守预测增长
- 合理设定终值
```

### 误区3：高增长率永续

```
错误：假设高增长永远持续

正确：
- 永续增长通常2-3%
- 不可能超过GDP增速
- 高成长必然回归均值

建议：
- 永续增长2-4%
- 或与通胀+GDP增速匹配
- 保守估计
```

### 误区4：所有公司都能DCF

```
错误：任何公司都能DCF估值

正确：
- 亏损公司不能DCF
- 周期股DCF很困难
- 业务复杂的很难预测

建议：
- 现金流稳定才用DCF
- 其他情况用其他方法
```

---

## 十、实战建议

### 建议一：保守假设

```
DCF假设应该保守：

增长率：
- 用历史下限
- 不预测高增长
- 考虑行业竞争

折现率：
- 用高一点
- 反映风险溢价
- 留出安全边际
```

### 建议二：多方法验证

```
DCF结果需要其他方法验证：

方法组合：
- DCF估算内在价值
- PE/PB对比市场
- PEG结合成长性
- 股息率验证

多方法一致 → 更可靠
```

### 建议三：安全边际

```
巴菲特原则：

买入价格 < 内在价值 × 80%

即：安全边际 > 20%

示例：
DCF内在价值 = 77.3元
最高买入价 = 77.3 × 80% = 61.8元
当前股价 = 38.67元
安全边际 = 50% ✅

原则：
- 安全边际越大越好
- 低于安全边际不买
- 宁可错过，不做错
```

### 建议四：动态跟踪

```
DCF不是一次性的：

需要定期更新：
- 每季财报后
- 重大事项发生
- 行业变化时

调整：
- 修正FCF预测
- 更新假设
- 重新估值
```

---

## 十一、DCF与其他方法对比

| 方法 | 优点 | 缺点 | 适用场景 |
|------|------|------|----------|
| DCF | 理论完善 | 计算复杂 | 现金流稳定 |
| PE | 简单直观 | 忽略成长 | 所有公司 |
| PB | 相对稳定 | 忽略盈利 | 金融、周期 |
| PEG | 结合成长 | 预测不准 | 成长股 |
| 股息率 | 真实现金流 | 忽略成长 | 高股息股 |

### 最佳实践

```
综合使用多种方法：

稳定公司（招行）：
- DCF估算内在价值
- PE/PB对比估值
- 股息率验证

成长公司（科技）：
- DCF困难，用PEG
- PS辅助
- 关注成长性

周期公司：
- 用PB为主
- PE分位数
- DCF不适用
```

---

## 十二、总结

### DCF法的核心价值

```
1. 理论最科学
2. 估算内在价值
3. 关注长期现金流
4. 提供安全边际
5. 避免市场情绪
```

### 正确使用姿势

```
✅ 保守假设
✅ 多方法验证
✅ 留足安全边际
✅ 动态跟踪调整
✅ 关注逻辑而非数字
✅ 用于现金流稳定公司

❌ 追求精确计算
❌ 过度乐观预测
❌ 用于亏损/周期公司
❌ 盲目相信结果
❌ 忽视其他方法
❌ 一次计算永久使用
```

### 记住

```
DCF是思维方式，
不是计算工具。

价值投资本质：
- 买入低于内在价值
- 长期持有
- 享受现金流回报

DCF帮助我们：
- 理解价值本质
- 估算合理价格
- 保持理性投资

计算可以不精确，
但逻辑必须正确。
```

### 巴菲特的话

```
"DCF是评估一家公司价值的
唯一正确方法。"

但要注意：
- 宁要模糊的正确
- 不要精确的错误
```
