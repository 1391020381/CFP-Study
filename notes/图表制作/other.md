# 量化工具和平台

> **快速对比表**
>
> | 工具 | 收费 | 活跃度 | 图表制作 | 准确性 | 适用场景 |
> |------|------|--------|----------|--------|----------|
> | akshare | 免费 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | A股财务数据分析 |
> | efinance | 免费 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | A股实时行情 |
> | yfinance | 免费 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | 全球市场数据 |
> | vnpy | 免费/数据付费 | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐⭐ | 量化交易 |
> | qlib | 免费 | ⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐ | AI量化研究 |
> | ccxt | 免费 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 加密货币 |

---

## 组件库

### 1. yfinance

| 项目 | 说明 |
|------|------|
| **链接** | http://github.com/ranaroussi/yfinance |
| **功能** | 获取全球股票、外汇、加密货币、期货的历史行情和财务数据 |
| **详细举例** | `yfinance.download("AAPL")` → 获取苹果公司历史股价、PE、EPS、市值等 |
| **收费** | ✅ 完全免费 |
| **项目活跃度** | ⭐⭐⭐⭐⭐ 非常活跃，15k+ stars，频繁更新 |
| **适合图表制作** | ⚠️ A股数据不全面，不如专用A股工具 |
| **准确性** | ⭐⭐⭐ Yahoo Finance数据源，一般 |

### 2. efinance

| 项目 | 说明 |
|------|------|
| **链接** | https://github.com/Micro-sheep/efinance |
| **功能** | 专门获取东方财富网数据（A股、美股、港股实时行情、分钟级数据） |
| **详细举例** | `efinance.stock.get_all_base_info()` → 获取所有A股基本信息；`get_hist_quote()` → 获取历史行情 |
| **收费** | ✅ 完全免费 |
| **项目活跃度** | ⭐⭐⭐⭐ 活跃，2k+ stars，持续更新 |
| **适合图表制作** | ✅ 专注A股，覆盖财务分析图表需求 |
| **准确性** | ⭐⭐⭐⭐ 东方财富数据源可靠 |

### 3. ccxt

| 项目 | 说明 |
|------|------|
| **链接** | https://github.com/ccxt/ccxt |
| **功能** | 统一100+加密货币交易所接口，获取行情、交易、账户数据 |
| **详细举例** | `ccxt.binance().fetch_ohlcv('BTC/USDT')` → 获取BTC K线数据 |
| **收费** | ✅ 库免费，交易所收交易费 |
| **项目活跃度** | ⭐⭐⭐⭐⭐ 非常活跃，33k+ stars，周更级别 |
| **适合图表制作** | ❌ 只支持加密货币，不支持股票 |
| **准确性** | ⭐⭐⭐⭐⭐ 直接连接交易所 |

### 4. vnpy (VeighNa)

| 项目 | 说明 |
|------|------|
| **链接** | http://github.com/vnpy/vnpy |
| **功能** | 完整量化交易平台：行情、交易、回测、策略运行 |
| **详细举例** | 支持149家期货公司CTP接口，可做期货程序化交易 |
| **收费** | ✅ 框架免费，💰 回测数据需付费 |
| **项目活跃度** | ⭐⭐⭐⭐⭐ 非常活跃，28k+ stars，国内量化框架首选 |
| **适合图表制作** | ⚠️ 偏交易而非分析，有数据但非主打 |
| **准确性** | ⭐⭐⭐⭐⭐ 直连交易所/券商 |

### 5. Qlib (微软)

| 项目 | 说明 |
|------|------|
| **链接** | https://github.com/microsoft/qlib |
| **功能** | AI量化投资平台：数据处理、模型训练、回测、强化学习 |
| **详细举例** | `qrun config.yaml` → 自动运行数据→训练→回测→报告全流程 |
| **收费** | ✅ 完全免费开源 |
| **项目活跃度** | ⭐⭐⭐⭐ 活跃，14k+ stars，微软维护 |
| **适合图表制作** | ⚠️ 偏AI模型训练，图表功能有限 |
| **准确性** | ⭐⭐⭐⭐ 微软出品，自带A股数据集 |

### 6. akshare ⭐推荐

| 项目 | 说明 |
|------|------|
| **链接** | https://github.com/akfamily/akshare |
| **功能** | 最全面的中国金融数据接口库 |
| **详细举例** | `ak.stock_profit_report_by_report_em(date="20241231")` → 获取业绩报表；`ak.stock_zh_a_hist()` → 获取历史行情 |
| **收费** | ✅ 完全免费，无需注册 |
| **项目活跃度** | ⭐⭐⭐⭐⭐ 非常活跃，10k+ stars，中文文档完善，月更级别 |
| **适合图表制作** | ✅✅ 完美覆盖财务分析图表需求 |
| **准确性** | ⭐⭐⭐⭐ 多数据源交叉验证 |

---

## 框架平台

### 1. QMT迅投

| 项目 | 说明 |
|------|------|
| **链接** | https://www.thinktrader.net/index.html |
| **功能** | 券商实盘量化交易软件 |
| **收费** | 软件免费，券商有资金门槛(10-50万) |
| **项目活跃度** | ⭐⭐⭐⭐ 商业产品，券商定制 |
| **适合图表制作** | ❌ 专注交易，非数据分析工具 |
| **准确性** | ⭐⭐⭐⭐⭐ 直连券商 |

### 2. 同花顺i问财

| 项目 | 说明 |
|------|------|
| **链接** | https://www.iwencai.com/unifiedwap/home/index |
| **功能** | 自然语言查询股票数据 |
| **收费** | 免费在线工具 |
| **项目活跃度** | ⭐⭐⭐⭐⭐ 商业产品，持续运营 |
| **适合图表制作** | ⚠️ 网页图表，不可定制 |
| **准确性** | ⭐⭐⭐⭐ 同花顺数据源 |

### 3. 聚宽

| 项目 | 说明 |
|------|------|
| **链接** | https://www.joinquant.com/ |
| **功能** | 量化回测+实盘交易平台 |
| **收费** | 积分制，部分功能收费（导出日志、克隆策略等） |
| **项目活跃度** | ⭐⭐⭐⭐ 商业平台，社区活跃 |
| **适合图表制作** | ✅ 有图表但生态封闭 |
| **准确性** | ⭐⭐⭐⭐ 专业数据源 |

### 4. ai-hedge-fund

| 项目 | 说明 |
|------|------|
| **链接** | https://github.com/virattt/ai-hedge-fund |
| **功能** | AI对冲基金完整架构 |
| **收费** | 开源免费 |
| **项目活跃度** | ⭐⭐⭐ 个人项目，更新较少 |
| **适合图表制作** | ⚠️ 需自己开发 |
| **准确性** | 取决数据源 |

---

## 针对11类财务分析图表的工具适配度

| 图表类型 | akshare | efinance | yfinance | vnpy | Qlib |
|---------|---------|----------|----------|------|------|
| 1. 总营收和主业现金流 | ✅ | ✅ | ❌ | ✅ | ✅ |
| 2. 市值和业绩趋势 | ✅ | ✅ | ❌ | ✅ | ✅ |
| 3. 业务构成趋势 | ✅ | ⚠️ | ❌ | ❌ | ⚠️ |
| 4. 净利润和现金流 | ✅ | ✅ | ❌ | ✅ | ✅ |
| 5. 成本与毛利率 | ✅ | ✅ | ❌ | ⚠️ | ✅ |
| 6. 三费趋势 | ✅ | ✅ | ❌ | ⚠️ | ✅ |
| 7. 近五年综合增长率 | ✅ | ✅ | ❌ | ⚠️ | ✅ |
| 8. 资产负债结构 | ✅ | ✅ | ❌ | ❌ | ✅ |
| 9. 应付账款和总营收 | ✅ | ⚠️ | ❌ | ❌ | ⚠️ |
| 10. 市销率分析 | ✅ | ✅ | ⚠️ | ⚠️ | ⚠️ |
| 11. 市盈率趋势 | ✅ | ✅ | ⚠️ | ⚠️ | ⚠️ |

**结论：akshare 是制作财务分析图表的最佳选择**

---

## 数据准确性校验方法

| 方法 | 说明 | 操作方式 |
|------|------|----------|
| **1. 官方源交叉验证** | 对比多个数据源 | 同时用 akshare + efinance 获取同一数据，对比差异 |
| **2. 公司财报核对** | 最权威的数据源 | 下载公司年报/季报PDF，核对关键数字 |
| **3. 交易所官网** | 上交所/深交所公告 | [上交所披露](https://www.sse.com.cn/) / [深交所披露](https://www.szse.cn/) |
| **4. 同花顺/东方财富** | 主流财经网站 | 手动查询几个关键点，验证API数据 |
| **5. 时间连续性检查** | 检查数据异常跳变 | 绘制时间序列图，查看是否有断点或异常值 |

**推荐校验流程：**
```
开发阶段：抽样核对 3-5 家公司的财报数据
    ↓
运行阶段：定期对比东方财富官网
    ↓
异常报警：设置阈值，数据偏离过大时报警
```

---

## Node全栈开发者推荐方案

```
┌─────────────────────────────────────────────────────────┐
│                    推荐架构                              │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  Python脚本                    Node.js + ECharts        │
│  (akshare/efinance)    ────▶    JSON文件   ────▶    前端图表  │
│                                                         │
│  - 定时任务                  - Express/Koa              │
│  - 数据清洗                  - RESTful API              │
│  - 存储为JSON                - 可视化展示               │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

**理由：**
1. akshare 数据全、免费、准确
2. Python 脚本简单（10行代码获取数据）
3. Node.js + ECharts 图表功能强大、交互性好

---

## 参考文章

- [Python 常用金融数据接口库——yfinance 与 AkShare](https://zhuanlan.zhihu.com/p/1940820032784429315)
